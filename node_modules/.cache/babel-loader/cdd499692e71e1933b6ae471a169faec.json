{"ast":null,"code":"var _jsxFileName = \"/Users/ignaciourrutiagajardo/Documents/Web/PlanningAdvisors/pa-app/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport { numericSortFunc } from './auxFunctions';\nimport { StockTable, SingleStockData } from './SingleStockData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MultipleStockTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.prevColumns = [];\n    this.prevStockList = [];\n    this.state = {\n      data: {}\n    };\n  }\n\n  componentDidMount() {\n    this.getStocksData();\n  }\n\n  componentDidUpdate() {\n    if (this.props.stocks_list !== this.prevStockList) {\n      this.getStocksData();\n      this.prevColumns = this.props.active_columns;\n      this.prevStockList = this.props.stocks_list;\n    }\n  }\n\n  async getStocksData() {\n    let active_columns = this.props.active_columns;\n    active_columns = Object.keys(this.props.columnInfo).slice(1);\n    console.log(active_columns);\n    const stocks_list = this.props.stocks_list;\n    var stocksData = [];\n\n    if (active_columns.length === 0) {\n      for (let stock_name of stocks_list) {\n        var new_row = {};\n        new_row['name'] = stock_name;\n        stocksData.push(new_row);\n        this.setState({\n          data: stocksData\n        });\n      }\n\n      return;\n    }\n\n    for await (let stock_name of stocks_list) {\n      fetch(`http://localhost:3001/get/${stock_name}/${active_columns}`).then(response => {\n        return response.json();\n      }).then(fetched_data => {\n        var new_row = {\n          'name': fetched_data['stock_name']\n        };\n        Object.assign(new_row, fetched_data['data'][0]);\n        stocksData.push(new_row);\n        this.setState({\n          data: stocksData\n        });\n      });\n    }\n  }\n\n  render() {\n    let active_columns = ['name'].concat(this.props.active_columns);\n    active_columns = active_columns = Object.keys(this.props.columnInfo);\n    const columns = active_columns.map(col => {\n      let columnData = {\n        dataField: col,\n        text: this.props.columnInfo[col]['text'],\n        sort: true,\n        type: this.props.columnInfo[col]['type']\n      };\n\n      if (this.props.columnInfo[col]['formatter']) {\n        columnData['formatter'] = this.props.columnInfo[col]['formatter'];\n      }\n\n      if (this.props.columnInfo[col]['sortFunc']) {\n        columnData['sortFunc'] = this.props.columnInfo[col]['sortFunc'];\n      }\n\n      if (this.props.columnInfo[col]['style']) {\n        columnData['style'] = this.props.columnInfo[col]['style'];\n      }\n\n      if (this.props.columnInfo[col]['hidden']) {\n        columnData['hidden'] = this.props.columnInfo[col]['hidden'];\n      }\n\n      return columnData;\n    });\n    const isDataEmpty = Object.keys(this.state.data).length === 0;\n\n    if (!isDataEmpty) {\n      return /*#__PURE__*/_jsxDEV(BootstrapTable, {\n        striped: true,\n        hover: true,\n        condensed: true,\n        keyField: \"name\",\n        data: this.state.data,\n        columns: columns\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 10\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No hay datos disponibles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }, this);\n    }\n  }\n\n}\n\nclass AllocationPanel extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Allocation Panel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nclass PerformancePanel extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Performance Panel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nclass MultipleStockData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.columns = ['date', 'open', 'close', 'high', 'low', 'volume', 'adjclose', 'daily_return', 'percentage_return', 'rsi_3d', 'rsi_5d', 'rsi_14d', 'rsi_25d'];\n    this.headers = {\n      'date': 'Fecha',\n      'name': 'Acción',\n      'open': 'Abrir',\n      'close': 'Cierre',\n      'high': 'Max',\n      'low': 'Min',\n      'volume': 'Volumen',\n      'adjclose': 'Cierre ajus.',\n      'daily_return': 'Rentabilidad por dia',\n      'percentage_return': 'Rentabilidad %',\n      'rsi_3d': 'RSI 3 días',\n      'rsi_5d': 'RSI 5 días',\n      'rsi_14d': 'RSI 14 días',\n      'rsi_25d': 'RSI 25 días'\n    };\n    this.columnManage = {\n      'name': name => {\n        return name.toUpperCase();\n      },\n      'date': dateString => {\n        let date = new Date(dateString);\n        return date.toLocaleDateString();\n      },\n      'open': n => {\n        return this.roundDecimals(n, 2);\n      },\n      'close': n => {\n        return this.roundDecimals(n, 2);\n      },\n      'high': n => {\n        return this.roundDecimals(n, 2);\n      },\n      'low': n => {\n        return this.roundDecimals(n, 2);\n      },\n      'volume': n => {\n        return this.roundDecimals(n, 2);\n      },\n      'adjclose': n => {\n        return this.roundDecimals(n, 2);\n      },\n      'daily_return': n => {\n        return this.roundDecimals(n, 2);\n      },\n      'percentage_return': n => {\n        return this.roundDecimals(n, 2);\n      },\n      'rsi_3d': n => {\n        return this.roundDecimals(n, 2);\n      },\n      'rsi_5d': n => {\n        return this.roundDecimals(n, 2);\n      },\n      'rsi_14d': n => {\n        return this.roundDecimals(n, 2);\n      },\n      'rsi_25d': n => {\n        return this.roundDecimals(n, 2);\n      }\n    };\n    this.columnInfo = {\n      'name': {\n        'text': 'Accion',\n        'formatter': name => {\n          return name.toUpperCase();\n        },\n        'type': 'string',\n        'style': {\n          'font-weight': 'bold'\n        }\n      },\n      'date': {\n        'text': 'Fecha',\n        'formatter': dateString => {\n          let date = new Date(dateString);\n          return date.toLocaleDateString();\n        },\n        'type': 'string',\n        'hidden': true\n      },\n      'open': {\n        'text': 'Abrir',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'hidden': true\n      },\n      'close': {\n        'text': 'Cierre',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'hidden': true\n      },\n      'high': {\n        'text': 'Max',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'hidden': true\n      },\n      'low': {\n        'text': 'Min',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'hidden': true\n      },\n      'volume': {\n        'text': 'Volumen',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'hidden': true\n      },\n      'adjclose': {\n        'text': 'Cierre ajus.',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc\n      },\n      'daily_return': {\n        'text': 'Rentabilidad por dia',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc\n      },\n      'percentage_return': {\n        'text': 'Rentabilidad %',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc\n      },\n      'rsi_3d': {\n        'text': 'RSI 3 días',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'style': this.styleRanges(30, 70)\n      },\n      'rsi_5d': {\n        'text': 'RSI 5 días',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'style': this.styleRanges(30, 70)\n      },\n      'rsi_14d': {\n        'text': 'RSI 14 días',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'style': this.styleRanges(30, 70)\n      },\n      'rsi_25d': {\n        'text': 'RSI 25 días',\n        'formatter': n => {\n          return this.roundDecimals(n, 2);\n        },\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'style': this.styleRanges(30, 70)\n      }\n    };\n    this.state = {\n      stocks_list: [],\n      active_columns: [],\n      columnInfo: this.columnInfo\n    };\n    this.handleColumnChange = this.handleColumnChange.bind(this);\n  }\n\n  styleRanges(a, b) {\n    return function callback(cell, row, rowIndex, colIndex) {\n      if (+cell > b) {\n        return {\n          color: 'red'\n        };\n      } else if (+cell < a) {\n        return {\n          color: 'green'\n        };\n      }\n    };\n  }\n\n  roundDecimals(n, decimals) {\n    return Math.round(n * 10 ** decimals) / 10 ** decimals;\n  }\n\n  getStocksList() {\n    fetch(`http://localhost:3001/stocksList`).then(response => {\n      return response.json();\n    }).then(fetched_data => {\n      this.setState({\n        stocks_list: fetched_data\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.getStocksList();\n  }\n\n  handleColumnChange(column_dict) {\n    let auxColumnInfo = this.state.columnInfo;\n    const active_columns_aux = [];\n\n    for (var col of this.columns) {\n      auxColumnInfo[col]['hidden'] = !column_dict[col];\n\n      if (column_dict[col]) {\n        active_columns_aux.push(col);\n      }\n    }\n\n    this.setState({\n      active_columns: active_columns_aux,\n      columnInfo: auxColumnInfo\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panels\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-info\",\n        children: /*#__PURE__*/_jsxDEV(Checkbox, {\n          onColumnChange: this.handleColumnChange,\n          columns: this.columns,\n          optionLabels: this.headers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-positions\",\n        children: /*#__PURE__*/_jsxDEV(MultipleStockTable, {\n          active_columns: this.state.active_columns,\n          stocks_list: this.state.stocks_list,\n          headers: this.headers,\n          columnInfo: this.state.columnInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Checkbox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.options = this.props.columns;\n    this.state = {\n      options: {}\n    };\n\n    if (this.props.optionLabels) {\n      this.optionLabels = this.props.optionLabels;\n    } else {\n      this.optionLabels = {};\n\n      for (let col of this.props.columns) {\n        this.optionLabels[col] = col;\n      }\n    }\n\n    for (var option of this.options) {\n      this.state.options[option] = false;\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.checked;\n    const name = target.name; // Creamos variable auxiliar que modificaremos y asignaremos al estado actual\n\n    var aux_options = this.state.options;\n    aux_options[name] = value;\n    this.props.onColumnChange(aux_options);\n  }\n\n  handleSubmit(event) {\n    alert('A name was submitted: ' + this.state.value);\n    event.preventDefault();\n  }\n\n  render() {\n    // const value = this.state.value;\n    const listBox = this.options.map(option => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          onChange: this.handleChange,\n          name: option\n        }, option, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 9\n        }, this), \" \", this.optionLabels[option]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 7\n      }, this)\n    }, option, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 5\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handlleSubmit,\n      children: listBox\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass TextInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    const value = this.state.value;\n    event.preventDefault();\n    this.props.onChange(value);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Stock name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.value,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Calcular\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nlet multiple_stock_data = true;\nlet stock_data;\nmultiple_stock_data ? stock_data = /*#__PURE__*/_jsxDEV(MultipleStockData, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 455,\n  columnNumber: 36\n}, this) : stock_data = /*#__PURE__*/_jsxDEV(SingleStockData, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 455,\n  columnNumber: 72\n}, this);\nReactDOM.render( /*#__PURE__*/_jsxDEV(React.StrictMode, {\n  children: stock_data\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 458,\n  columnNumber: 3\n}, this), document.getElementById('root')); // If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n\n/* \nTo-do:\n  - Ordenar códigos (Modularizar, eliminar código no usado, optimizar)\n  - Manejar funciones de subida de datos\n  - Mostrar / Borrar columnas desde tabla y no desde donde se mandan los datos\n  - Subir a la red\n*/","map":{"version":3,"sources":["/Users/ignaciourrutiagajardo/Documents/Web/PlanningAdvisors/pa-app/src/index.js"],"names":["React","ReactDOM","BootstrapTable","numericSortFunc","StockTable","SingleStockData","MultipleStockTable","Component","constructor","props","prevColumns","prevStockList","state","data","componentDidMount","getStocksData","componentDidUpdate","stocks_list","active_columns","Object","keys","columnInfo","slice","console","log","stocksData","length","stock_name","new_row","push","setState","fetch","then","response","json","fetched_data","assign","render","concat","columns","map","col","columnData","dataField","text","sort","type","isDataEmpty","AllocationPanel","PerformancePanel","MultipleStockData","headers","columnManage","name","toUpperCase","dateString","date","Date","toLocaleDateString","n","roundDecimals","styleRanges","handleColumnChange","bind","a","b","callback","cell","row","rowIndex","colIndex","color","decimals","Math","round","getStocksList","column_dict","auxColumnInfo","active_columns_aux","Checkbox","options","optionLabels","option","handleChange","handleSubmit","event","target","value","checked","aux_options","onColumnChange","alert","preventDefault","listBox","handlleSubmit","TextInput","onChange","multiple_stock_data","stock_data","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport {numericSortFunc} from './auxFunctions';\n\nimport {StockTable, SingleStockData} from './SingleStockData'\n\nclass MultipleStockTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.prevColumns = [];\n    this.prevStockList = [];\n\n    this.state = {\n      data: {}\n    }\n  }\n\ncomponentDidMount(){\n  this.getStocksData();\n}\n\ncomponentDidUpdate(){\n  if (this.props.stocks_list !== this.prevStockList){\n    this.getStocksData();\n    this.prevColumns = this.props.active_columns;\n    this.prevStockList = this.props.stocks_list;\n  }\n}\n\n async getStocksData() {\n    let active_columns = this.props.active_columns;\n    active_columns = Object.keys(this.props.columnInfo).slice(1)\n    console.log(active_columns)\n    const stocks_list = this.props.stocks_list;\n    var stocksData = [];\n\n  if (active_columns.length === 0) {\n    for (let stock_name of stocks_list){\n      var new_row = {};\n      new_row['name'] = stock_name;\n\n      stocksData.push(new_row)\n\n      this.setState({data: stocksData});\n    }\n    return;\n  }\n\n    for await (let stock_name of stocks_list){\n      fetch(`http://localhost:3001/get/${stock_name}/${active_columns}`)\n      .then(response => {\n        return response.json();\n      })\n      .then(fetched_data => {\n        var new_row = {\n          'name': fetched_data['stock_name']\n        }\n        Object.assign(new_row, fetched_data['data'][0]);\n\n        stocksData.push(new_row)\n\n        this.setState({\n          data: stocksData\n        })\n      })\n    }\n\n  }\n\n  render(){\n    let active_columns = ['name'].concat(this.props.active_columns);\n    active_columns = active_columns = Object.keys(this.props.columnInfo)\n\n    const columns = active_columns.map( (col) => {\n      let columnData = {\n        dataField: col,\n        text: this.props.columnInfo[col]['text'],\n        sort: true,\n        type: this.props.columnInfo[col]['type']\n      }\n      if (this.props.columnInfo[col]['formatter']){\n        columnData['formatter'] = this.props.columnInfo[col]['formatter']\n      }\n      if (this.props.columnInfo[col]['sortFunc']){\n        columnData['sortFunc'] = this.props.columnInfo[col]['sortFunc'];\n      }\n      if (this.props.columnInfo[col]['style']){\n        columnData['style'] = this.props.columnInfo[col]['style'];\n      }\n      if (this.props.columnInfo[col]['hidden']){\n        columnData['hidden'] = this.props.columnInfo[col]['hidden'];\n      }\n\n      return(columnData);\n    })\n\n     const isDataEmpty = Object.keys(this.state.data).length === 0;\n     if (!isDataEmpty) { \n       return (\n         <BootstrapTable striped hover condensed keyField='name' data={this.state.data} columns={columns}/>\n       );  \n     }\n     else{\n       return <div>No hay datos disponibles</div>\n     }\n   }\n\n}\n\nclass AllocationPanel extends React.Component {\n  render() {\n    return <p>Allocation Panel</p>\n  }\n}\n\nclass PerformancePanel extends React.Component {\n  render() {\n    return <p>Performance Panel</p>\n  }\n}\n\n\n\n\n\nclass MultipleStockData extends React.Component{\n  constructor(props){\n    super(props);\n    this.columns = ['date','open', 'close', 'high', 'low', 'volume', 'adjclose', 'daily_return', 'percentage_return', 'rsi_3d', 'rsi_5d', 'rsi_14d', 'rsi_25d'];\n    this.headers = {\n      'date': 'Fecha',\n      'name': 'Acción',\n      'open': 'Abrir',\n      'close': 'Cierre',\n      'high': 'Max',\n      'low': 'Min',\n      'volume': 'Volumen',\n      'adjclose': 'Cierre ajus.',\n      'daily_return': 'Rentabilidad por dia',\n      'percentage_return': 'Rentabilidad %',\n      'rsi_3d': 'RSI 3 días',\n      'rsi_5d': 'RSI 5 días',\n      'rsi_14d': 'RSI 14 días',\n      'rsi_25d': 'RSI 25 días',\n    };\n\n    this.columnManage = {\n      'name': (name) => {return name.toUpperCase();},\n      'date': (dateString) => {\n        let date = new Date(dateString);\n        return date.toLocaleDateString();\n      },\n      'open': (n) => {return this.roundDecimals(n,2)},\n      'close': (n) => {return this.roundDecimals(n,2)},\n      'high': (n) => {return this.roundDecimals(n,2)},\n      'low': (n) => {return this.roundDecimals(n,2)},\n      'volume': (n) => {return this.roundDecimals(n,2)},\n      'adjclose': (n) => {return this.roundDecimals(n,2)},\n      'daily_return': (n) => {return this.roundDecimals(n,2)},\n      'percentage_return': (n) => {return this.roundDecimals(n,2)},\n      'rsi_3d': (n) => {return this.roundDecimals(n,2)},\n      'rsi_5d': (n) => {return this.roundDecimals(n,2)},\n      'rsi_14d': (n) => {return this.roundDecimals(n,2)},\n      'rsi_25d': (n) => {return this.roundDecimals(n,2)},\n    }\n\n    this.columnInfo = {\n      'name': {\n        'text': 'Accion',\n        'formatter': (name) => {return name.toUpperCase();},\n        'type': 'string',\n        'style': {\n          'font-weight': 'bold'}\n      },\n      'date': {\n        'text': 'Fecha',\n        'formatter': (dateString) => {\n          let date = new Date(dateString);\n          return date.toLocaleDateString();\n        },\n        'type': 'string',\n        'hidden': true\n      },\n      'open': {\n        'text': 'Abrir',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'hidden': true\n      },\n      'close': {\n        'text': 'Cierre',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'hidden': true\n      },\n      'high': {\n        'text': 'Max',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'hidden': true\n      },\n      'low': {\n        'text': 'Min',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'hidden': true\n      },\n      'volume': {\n        'text': 'Volumen',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'hidden': true\n      },\n      'adjclose': {\n        'text': 'Cierre ajus.',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc\n      },\n      'daily_return': {\n        'text': 'Rentabilidad por dia',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc\n      },\n      'percentage_return': {\n        'text': 'Rentabilidad %',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc\n      },\n      'rsi_3d': {\n        'text': 'RSI 3 días',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'style': this.styleRanges(30,70)\n      },\n      'rsi_5d': {\n        'text': 'RSI 5 días',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'style': this.styleRanges(30,70)\n      },\n      'rsi_14d': {\n        'text': 'RSI 14 días',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'style': this.styleRanges(30,70)\n      },\n      'rsi_25d': {\n        'text': 'RSI 25 días',\n        'formatter': (n) => {return this.roundDecimals(n,2)},\n        'type': 'number',\n        'sortFunc': numericSortFunc,\n        'style': this.styleRanges(30,70)\n      }\n    };\n\n    this.state = {\n      stocks_list: [],\n      active_columns: [],\n      columnInfo: this.columnInfo\n    }\n    this.handleColumnChange = this.handleColumnChange.bind(this);\n  }\n\n  styleRanges(a,b){\n    return (\n      function callback(cell, row, rowIndex, colIndex) {\n        if (+cell > b){\n          return ({color: 'red'});\n        } else if (+cell < a){\n          return ({color: 'green'});\n        }\n      }\n\n    )}\n\n  roundDecimals(n, decimals) {\n    return(Math.round( n * (10**decimals)) / (10**decimals) )\n  }\n\n  getStocksList() {\n    fetch(`http://localhost:3001/stocksList`)\n    .then(response => {\n      return response.json();\n    })\n    .then(fetched_data => {\n      this.setState({\n        stocks_list: fetched_data\n      });\n    })\n  }\n\n  componentDidMount() {\n    this.getStocksList();\n  }\n \n  handleColumnChange(column_dict) {\n    let auxColumnInfo = this.state.columnInfo;\n\n    const active_columns_aux = []\n    for (var col of this.columns) {\n      auxColumnInfo[col]['hidden'] = !column_dict[col]\n\n      if (column_dict[col]) {\n        active_columns_aux.push(col)\n      }\n    }\n\n    this.setState({\n      active_columns: active_columns_aux,\n      columnInfo: auxColumnInfo\n    });\n  }\n\n  render () {\n    return (\n      <div className='panels'>\n\n      <div className='panel-info'>   \n        <Checkbox\n          onColumnChange = {this.handleColumnChange}\n          columns = {this.columns}\n          optionLabels = {this.headers}\n          />\n      </div>\n\n        <div className=\"panel-positions\">\n            {<MultipleStockTable\n            active_columns = {this.state.active_columns}\n            stocks_list = {this.state.stocks_list}\n            headers = {this.headers}\n            columnInfo = {this.state.columnInfo}\n            />}\n        </div>\n\n\n      </div>\n    )\n  }\n}\n\nclass Checkbox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.options = this.props.columns;\n    this.state = {options: {}};\n    if (this.props.optionLabels) {\n      this.optionLabels = this.props.optionLabels;\n    }\n    else{\n      this.optionLabels = {};\n      for (let col of this.props.columns) {\n        this.optionLabels[col] = col;\n      }\n    }\n\n    for (var option of this.options){\n      this.state.options[option] = false;\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.checked;\n    const name = target.name;\n\n    // Creamos variable auxiliar que modificaremos y asignaremos al estado actual\n    var aux_options = this.state.options;\n    aux_options[name] = value;\n\n    this.props.onColumnChange(aux_options);\n  }\n\n  handleSubmit(event) {\n    alert('A name was submitted: ' + \n    this.state.value);\n    event.preventDefault();\n  }\n\n  render() {\n    // const value = this.state.value;\n    const listBox = this.options.map((option) => \n    <div key={option}>\n      <label>\n        <input key={option} type=\"checkbox\" onChange={this.handleChange} name={option}/>\n        {\" \"}\n        {this.optionLabels[option]} \n      </label>\n    </div>\n    );\n\n    return (\n      <form onSubmit={this.handlleSubmit}>\n          {listBox}\n      </form>\n    );\n  }\n}\n\nclass TextInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: ''}\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleSubmit(event) {\n\n    const value = this.state.value;\n\n    event.preventDefault();\n    this.props.onChange(value);\n  }\n\n  render() {\n    return(\n      <form onSubmit={this.handleSubmit}>\n        <label>\n          Stock name:\n          <input type=\"text\" value={this.state.value} onChange={this.handleChange}/>\n        </label>\n        <input type=\"submit\" value=\"Calcular\" />\n      </form>\n    )\n  }\n\n}\n\nlet multiple_stock_data = true;\nlet stock_data;\nmultiple_stock_data ? stock_data = <MultipleStockData/> : stock_data = <SingleStockData/> ;\n\nReactDOM.render(\n  <React.StrictMode>\n    {stock_data}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n\n/* \nTo-do:\n  - Ordenar códigos (Modularizar, eliminar código no usado, optimizar)\n  - Manejar funciones de subida de datos\n  - Mostrar / Borrar columnas desde tabla y no desde donde se mandan los datos\n  - Subir a la red\n*/"]},"metadata":{},"sourceType":"module"}